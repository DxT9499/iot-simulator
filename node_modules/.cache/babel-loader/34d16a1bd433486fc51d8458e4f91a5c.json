{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/eslint-loader/index.js??ref--13-0!/home/dxt/code/iot-simulator/src/components/http-common.js","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/http-common.js","mtime":1623956390859},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuL2V2ZW50LWJ1cy5qcyc7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9ICcqJzsKZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZygpIHsKICB2YXIgYmFzZV91cmwgPSAiIjsKICB2YXIgYXBpX3Rva2VuID0gIkJlYXJlciAiOwogIEV2ZW50QnVzLiRvbigiY29ubmVjdC1kYXRhIiwgZnVuY3Rpb24gKGRhdGFfdXJsLCBkYXRhX3Rva2VuKSB7CiAgICBiYXNlX3VybCA9IGRhdGFfdXJsICsgIi9yZXN0LyI7CiAgICBhcGlfdG9rZW4gPSAiQmVhcmVyICIgKyBkYXRhX3Rva2VuOwogICAgY29uc29sZS5sb2coYmFzZV91cmwsIGFwaV90b2tlbik7CiAgICByZXR1cm4gYXhpb3MuY3JlYXRlKHsKICAgICAgYmFzZVVSTDogYmFzZV91cmwsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiBhcGlfdG9rZW4sCiAgICAgICAgQ29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICBBY2Nlc3NDb250cm9sQWxsb3dPcmlnaW46ICIqIgogICAgICB9CiAgICB9KTsKICB9KTsKfQ=="},{"version":3,"sources":["/home/dxt/code/iot-simulator/src/components/http-common.js"],"names":["axios","EventBus","defaults","headers","common","config","base_url","api_token","$on","data_url","data_token","console","log","create","baseURL","Authorization","ContentType","AccessControlAllowOrigin"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACAD,KAAK,CAACE,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,6BAA9B,IAA+D,GAA/D;AAGA,OAAO,SAASC,MAAT,GAAkB;AACrB,MAAIC,QAAQ,KAAZ;AACA,MAAIC,SAAS,GAAG,SAAhB;AACAN,EAAAA,QAAQ,CAACO,GAAT,CAAa,cAAb,EAA6B,UAACC,QAAD,EAAWC,UAAX,EAA0B;AACnDJ,IAAAA,QAAQ,GAAGG,QAAQ,WAAnB;AACAF,IAAAA,SAAS,GAAG,YAAYG,UAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ,EAAsBC,SAAtB;AACA,WAAOP,KAAK,CAACa,MAAN,CAAa;AAChBC,MAAAA,OAAO,EAAER,QADO;AAEhBH,MAAAA,OAAO,EAAE;AACLY,QAAAA,aAAa,EAAER,SADV;AAELS,QAAAA,WAAW,EAAE,kBAFR;AAGLC,QAAAA,wBAAwB,EAAE;AAHrB;AAFO,KAAb,CAAP;AAQH,GAZD;AAaH","sourcesContent":["import axios from 'axios';\nimport { EventBus } from './event-bus.js'\naxios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\n\n\nexport function config() {\n    var base_url = ``\n    var api_token = \"Bearer \"\n    EventBus.$on(\"connect-data\", (data_url, data_token) => {\n        base_url = data_url + `/rest/`\n        api_token = \"Bearer \" + data_token\n        console.log(base_url, api_token)\n        return axios.create({\n            baseURL: base_url,\n            headers: {\n                Authorization: api_token,\n                ContentType: \"application/json\",\n                AccessControlAllowOrigin: \"*\"\n            },\n        })\n    })\n}"]}]}