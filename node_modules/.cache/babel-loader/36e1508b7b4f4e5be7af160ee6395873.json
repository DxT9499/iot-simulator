{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/App.vue","mtime":1623927649541},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICIuL2NvbXBvbmVudHMvUGFnZUhlYWRlci52dWUiOwppbXBvcnQgVGFiTWVudSBmcm9tICIuL2NvbXBvbmVudHMvVGFiTWVudS52dWUiOwppbXBvcnQgVWlDb250YWluZXIgZnJvbSAiLi9jb21wb25lbnRzL1VpQ29udGFpbmVyLnZ1ZSI7CmltcG9ydCBDb25uZWN0VGFiIGZyb20gIi4vY29tcG9uZW50cy9Db25uZWN0VGFiLnZ1ZSI7CmltcG9ydCB7IEhUVFAgfSBmcm9tICIuL2NvbXBvbmVudHMvaHR0cC1jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgY29tcG9uZW50czogewogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlciwKICAgIFRhYk1lbnU6IFRhYk1lbnUsCiAgICBVaUNvbnRhaW5lcjogVWlDb250YWluZXIsCiAgICBDb25uZWN0VGFiOiBDb25uZWN0VGFiCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIGNvbnNvbGUubG9nICgiY3JlYXRlZCIpCiAgICAvLyB0aGlzLnNldHVwU3RyZWFtKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldHVwU3RyZWFtOiBmdW5jdGlvbiBzZXR1cFN0cmVhbSgpIHsKICAgICAgdmFyIGVzID0gbmV3IEV2ZW50U291cmNlKCJodHRwOi8vbG9jYWxob3N0OjgwODAvcmVzdC9ldmVudHMvc3RhdGVzIiwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnOiB0cnVlCiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coZXMpOwogICAgICB2YXIgbmFtZSA9ICJ0ZXN0RVMiOwogICAgICB2YXIgaXRlbXMgPSBbbmFtZV07CiAgICAgIGVzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgSFRUUC5wb3N0KCIvZXZlbnRzL3N0YXRlcy8iLmNvbmNhdChldmVudC5kYXRhKSwgaXRlbXMpOwogICAgICB9KTsKICAgICAgZXMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQucmVhZHlTdGF0ZSA9PSBFdmVudFNvdXJjZS5DTE9TRUQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFdmVudCB3YXMgY2xvc2VkIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhFdmVudFNvdXJjZSk7CiAgICAgICAgfQogICAgICB9LCBmYWxzZSk7CgogICAgICBlcy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhKTsKICAgICAgfTsKCiAgICAgIGVzLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgc3RhdGVTdGFydCA9IGV2ZW50LmRhdGEubGFzdEluZGV4T2YoInN0YXRlIikgLSAyOwogICAgICAgIHZhciBzdGF0ZUVuZCA9IGV2ZW50LmRhdGEuaW5kZXhPZigifSIpOwogICAgICAgIGNvbnNvbGUubG9nKHN0YXRlU3RhcnQsIHN0YXRlRW5kKTsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YS5zbGljZShzdGF0ZVN0YXJ0LCBzdGF0ZUVuZCkpOwogICAgICAgIGNvbnNvbGUubG9nKCJoZXJlIik7CiAgICAgICAgY29uc29sZS5sb2coZGF0YS5zdGF0ZSk7CiAgICAgIH0sIGZhbHNlKTsKICAgIH0KICB9IC8vIEVTOiB7CiAgLy8gCXNldHVwU3RyZWFtOiBmdW5jdGlvbigpIHsKICAvLyAJCXZhciBlcyA9IG5ldyBFdmVudFNvdXJjZSgKICAvLyAJCQkiZXZlbnRzL3N0YXRlcyIsCiAgLy8gCQkJewogIC8vIAkJCQl3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy8gCQkJCWhlYWRlcnM6ewogIC8vIAkJCQkJJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJzogdHJ1ZSwKICAvLyAJCQkJCSJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxIgogIC8vIAkJCQl9CiAgLy8gCQkJfQogIC8vIAkJKTsKICAvLyAJCWNvbnNvbGUubG9nKGVzKTsKICAvLyAJCWVzLmFkZEV2ZW50TGlzdGVuZXIoCiAgLy8gCQkJImVycm9yIiwKICAvLyAJCQkoZXZlbnQpID0+IHsKICAvLyAJCQkJaWYgKGV2ZW50LnJlYWR5U3RhdGUgPT0gRXZlbnRTb3VyY2UuQ0xPU0VEKSB7CiAgLy8gCQkJCQljb25zb2xlLmxvZygiRXZlbnQgd2FzIGNsb3NlZCIpOwogIC8vIAkJCQkJY29uc29sZS5sb2coRXZlbnRTb3VyY2UpOwogIC8vIAkJCQl9CiAgLy8gCQkJfSwKICAvLyAJCQlmYWxzZQogIC8vIAkJKTsKICAvLyAJCWVzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgLy8gCQkJY29uc29sZS5sb2coZXZlbnQuZGF0YSkKICAvLyAJCX0KICAvLyAJCWVzLmFkZEV2ZW50TGlzdGVuZXIoCiAgLy8gCQkJIm1lc3NhZ2UiLAogIC8vIAkJCShldmVudCkgPT4gewogIC8vIAkJCQlsZXQgZGF0YXMgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwogIC8vIAkJCQljb25zb2xlLmxvZygiaGVyZSIpOwogIC8vIAkJCQljb25zb2xlLmxvZyhkYXRhcyk7CiAgLy8gCQkJfSwKICAvLyAJCQlmYWxzZQogIC8vIAkJKTsKICAvLyAJfSwKICAvLyB9Cgp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;AAUA,OAAA,UAAA,MAAA,6BAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,OAAA,UAAA,MAAA,6BAAA;AACA,SAAA,IAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,WAAA,EAAA,WAHA;AAIA,IAAA,UAAA,EAAA;AAJA,GAFA;AASA,EAAA,OATA,qBASA,CACA;AACA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAEA,UAAA,EAAA,GAAA,IAAA,WAAA,CACA,0CADA,EAEA;AACA,QAAA,eAAA,EAAA,IADA;AAEA,QAAA,OAAA,EAAA;AACA,8CAAA;AADA;AAFA,OAFA,CAAA;AAWA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,QAAA;AACA,UAAA,KAAA,GAAA,CAAA,IAAA,CAAA;AACA,MAAA,EAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,UAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,0BAAA,KAAA,CAAA,IAAA,GACA,KADA;AAIA,OALA;AAMA,MAAA,EAAA,CAAA,gBAAA,CACA,OADA,EAEA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,IAAA,WAAA,CAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA;AACA,OAPA,EAQA,KARA;;AAUA,MAAA,EAAA,CAAA,SAAA,GAAA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA;AACA,OAFA;;AAGA,MAAA,EAAA,CAAA,gBAAA,CACA,SADA,EAEA,UAAA,KAAA,EAAA;AACA,YAAA,UAAA,GAAA,KAAA,CAAA,IAAA,CAAA,WAAA,CAAA,OAAA,IAAA,CAAA;AACA,YAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,QAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,UAAA,EAAA,QAAA,CAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OATA,EAUA,KAVA;AAYA;AAhDA,GAbA,CA+DA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AArGA,CAAA","sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<PageHeader />\n\t\t<TabMenu />\n\t\t<UiContainer />\n\t\t<ConnectTab />\n\t</div>\n</template>\n\n<script>\nimport PageHeader from \"./components/PageHeader.vue\";\nimport TabMenu from \"./components/TabMenu.vue\";\nimport UiContainer from \"./components/UiContainer.vue\";\nimport ConnectTab from \"./components/ConnectTab.vue\"\nimport {HTTP} from \"./components/http-common\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: {\n\t\tPageHeader,\n\t\tTabMenu,\n\t\tUiContainer,\n\t\tConnectTab\n\t},\n\n\tcreated() {\n\t\t// console.log (\"created\")\n        // this.setupStream()\n    },\n\tmethods: {\n\t\tsetupStream() {\n            \n\t\t\tvar es = new EventSource(\n\t\t\t\t\"http://localhost:8080/rest/events/states\",\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders:{\n\t\t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(es);\n\t\t\tvar name = \"testES\"\n\t\t\tvar items = [name]\n\t\t\tes.addEventListener('ready',(event)=>{\n\t\t\t\tHTTP.post(`/events/states/${event.data}`, \n\t\t\t\t\titems\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t})\n\t\t\tes.addEventListener(\n\t\t\t\t\"error\",\n\t\t\t\t(event) => {\n\t\t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t\t\t\t\t\tconsole.log(\"Event was closed\");\n\t\t\t\t\t\tconsole.log(EventSource);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tes.onmessage = function(event) {\n\t\t\t\tconsole.log(event.data)\n\t\t\t}\n\t\t\tes.addEventListener(\n\t\t\t\t\"message\",\n\t\t\t\t(event) => {\n\t\t\t\t\tlet stateStart = event.data.lastIndexOf(\"state\") - 2\n\t\t\t\t\tlet stateEnd = event.data.indexOf(\"}\")\n\t\t\t\t\tconsole.log(stateStart,stateEnd)\n\t\t\t\t\tlet data = JSON.parse(event.data.slice(stateStart , stateEnd));\n\t\t\t\t\tconsole.log(\"here\");\n\t\t\t\t\tconsole.log(data.state);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t},\n\t},\n\t// ES: {\n\t// \tsetupStream: function() {\n            \n\t// \t\tvar es = new EventSource(\n\t// \t\t\t\"events/states\",\n\t// \t\t\t{\n\t// \t\t\t\twithCredentials: true,\n\t// \t\t\t\theaders:{\n\t// \t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t// \t\t\t\t\t\"Access-Control-Allow-Origin\": \"http://localhost:8081\"\n\t// \t\t\t\t}\n\t\t\t\t\t\n\t// \t\t\t}\n\t// \t\t);\n\t// \t\tconsole.log(es);\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"error\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t// \t\t\t\t\tconsole.log(\"Event was closed\");\n\t// \t\t\t\t\tconsole.log(EventSource);\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t\tes.onmessage = function(event) {\n\t// \t\t\tconsole.log(event.data)\n\t// \t\t}\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"message\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tlet datas = JSON.parse(event.data);\n\t// \t\t\t\tconsole.log(\"here\");\n\t// \t\t\t\tconsole.log(datas);\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t},\n\t// }\n};\n</script>\n\n<style>\nbody {\n\tposition: relative;\n\tmargin: 0px;\n}\n#app {\n\tfont-family: \"Frutiger Next LT W1G\", Calibri, Arial, Helvetica, sans-serif;\n\tmin-height: 100%;\n}\n</style>\n"],"sourceRoot":"src"}]}