{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/components/UiContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/UiContainer.vue","mtime":1619424727725},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgSFRUUCB9IGZyb20gJy4vaHR0cC1jb21tb24nOwppbXBvcnQgRGV2aWNlT25NYXAgZnJvbSAnLi9EZXZpY2VPbk1hcC52dWUnOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4vZXZlbnQtYnVzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBiYWNrZ3JvdW5kX3VybDogJycsCiAgICAgIG5ld19kZXZpY2VfdXJsOiAnJywKICAgICAgbmV3X2RldmljZV9uYW1lOiAnJywKICAgICAgZGV2aWNlczogW10sCiAgICAgIG5leHRfZGV2aWNlX2lkOiAxCiAgICB9OwogIH0sCiAgcHJvcHM6IHt9LAogIGNvbXBvbmVudHM6IHsKICAgIERldmljZU9uTWFwOiBEZXZpY2VPbk1hcAogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlRGV2aWNlOiBmdW5jdGlvbiBjcmVhdGVEZXZpY2UoZXYpIHsKICAgICAgaWYgKHRoaXMubmV3X2RldmljZV91cmwgIT0gJycpIHsKICAgICAgICB0aGlzLmRldmljZXMucHVzaCh7CiAgICAgICAgICBkZXZpY2VfaWQ6IHRoaXMubmV4dF9kZXZpY2VfaWQsCiAgICAgICAgICBkZXZpY2VfdXJsOiB0aGlzLm5ld19kZXZpY2VfdXJsLAogICAgICAgICAgZGV2aWNlX25hbWU6IHRoaXMubmV3X2RldmljZV9uYW1lLAogICAgICAgICAgcG9zaXRpb25YOiBldi5jbGllbnRYIC0gMjUgKyAicHgiLAogICAgICAgICAgcG9zaXRpb25ZOiBldi5jbGllbnRZIC0gMjUgKyAicHgiCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5uZXh0X2RldmljZV9pZCsrOwogICAgICAgIHRoaXMubmV3X2RldmljZV91cmwgPSAnJzsKICAgICAgICB0aGlzLm5ld19kZXZpY2VfbmFtZSA9ICcnOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBjb25zdCBoZWFkZXJzID0geyAKICAgIC8vICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgb2gudGVzdC5QZ0dycTU2RXQ0NWlTeG1aMzU0NmxwaTdCUWJTaUpDM0hYOGtCVmp0VkNCSjBBYVljMjZGQUVhT2FCcGthUUhRbTZqS0xQcVdvQlpobWtQVW04dyIsCiAgICAvLyAgICAgIkNvbnRlbnQtVHlwZSI6ICJ0ZXh0L3BsYWluIiwKICAgIC8vICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiCiAgICAvLyB9OwogICAgdmFyIGhlYWRlcnNfanNvbiA9IHsKICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyIG9oLnRlc3QuUGdHcnE1NkV0NDVpU3htWjM1NDZscGk3QlFiU2lKQzNIWDhrQlZqdFZDQkowQWFZYzI2RkFFYU9hQnBrYVFIUW02aktMUHFXb0JaaG1rUFVtOHciLAogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiCiAgICB9OwogICAgSFRUUC5nZXQoInNpdGVtYXBzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIF90aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhWzBdLmxhYmVsOwogICAgICBjb25zb2xlLmxvZyhfdGhpcy5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgIH0pOwogICAgSFRUUC5nZXQoIml0ZW1zIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIF90aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhWzBdLmxhYmVsOwogICAgICBjb25zb2xlLmxvZyhfdGhpcy5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgIH0pOwogICAgY29uc29sZS5sb2codGhpcy5kZXZpY2VzKTsKICAgIHZhciBpdGVtID0gewogICAgICAidHlwZSI6ICJTd2l0Y2giLAogICAgICAibmFtZSI6ICJ0ZXN0MSIsCiAgICAgICJsYWJlbCI6ICJ0ZXN0MSIsCiAgICAgICJjYXRlZ29yeSI6ICIiLAogICAgICAidGFncyI6IFsiSG91c2UiXSwKICAgICAgImdyb3VwTmFtZXMiOiBbIiJdLAogICAgICAiZ3JvdXBUeXBlIjogIiIsCiAgICAgICJmdW5jdGlvbiI6IHsKICAgICAgICAibmFtZSI6ICJzdHJpbmciLAogICAgICAgICJwYXJhbXMiOiBbInN0cmluZyJdCiAgICAgIH0KICAgIH07IC8vIEhUVFAucG9zdChgaXRlbXMvTmV3SXRlbWAsICdPTicsIHtoZWFkZXJzOmhlYWRlcnN9KS50aGVuKCkKCiAgICBIVFRQLmdldCgiaXRlbXMvTmV3SXRlbS9zdGF0ZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgfSk7CiAgICBIVFRQLnB1dCgiaXRlbXMvdGVzdDEiLCBpdGVtLCB7CiAgICAgIGhlYWRlcnM6IGhlYWRlcnNfanNvbgogICAgfSkudGhlbigpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIEV2ZW50QnVzLiRvbigiaW1nLXVwbG9hZCIsIGZ1bmN0aW9uICh1cmwpIHsKICAgICAgX3RoaXMyLmJhY2tncm91bmRfdXJsID0gdXJsOwogICAgfSk7CiAgICBFdmVudEJ1cy4kb24oImRldmljZS1kYXRhIiwgZnVuY3Rpb24gKGRhdGFfdXJsLCBkYXRhX25hbWUpIHsKICAgICAgX3RoaXMyLm5ld19kZXZpY2VfdXJsID0gZGF0YV91cmw7CiAgICAgIF90aGlzMi5uZXdfZGV2aWNlX25hbWUgPSBkYXRhX25hbWU7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["UiContainer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"dragable-container\" class=\"ui-container\" ref=\"draggableContainer\" v-on:click=\"createDevice\" v-bind:style=\"{ background: 'url(' + background_url + ') no-repeat center' }\">\n        <device-on-map\n            v-for = \"(device,index) in devices\"\n            v-bind:key=\"device.device_id\"\n            v-bind:pic_url=\"device.device_url\"\n            v-bind:name=\"device.device_name\"\n            v-on:remove=\"devices.splice(index, 1)\" \n            v-bind:positionX=\"device.positionX\"\n            v-bind:positionY=\"device.positionY\"\n        />\n    </div>\n</template>\n\n<script>\nimport {HTTP} from './http-common';\nimport DeviceOnMap from './DeviceOnMap.vue';\nimport { EventBus } from './event-bus.js';\n\nexport default {\n    data() {\n        return {\n            isShow: false,\n            background_url: '',\n            new_device_url: '',\n            new_device_name:'',\n            devices: [],\n            next_device_id: 1,\n            \n        }\n    },\n    props:{\n        \n    },\n    components: {\n        DeviceOnMap\n    },\n    methods: {\n        createDevice(ev) {\n            if(this.new_device_url != '') {\n                this.devices.push({\n                    device_id: this.next_device_id,\n                    device_url: this.new_device_url,\n                    device_name: this.new_device_name,\n                    positionX: ev.clientX - 25 + \"px\",\n                    positionY: ev.clientY - 25 + \"px\"\n                })\n                this.next_device_id++\n                this.new_device_url=''\n                this.new_device_name=''\n                \n            }\n        },\n        \n        \n    },\n    created() {\n        // const headers = { \n        //     \"Authorization\": \"Bearer oh.test.PgGrq56Et45iSxmZ3546lpi7BQbSiJC3HX8kBVjtVCBJ0AaYc26FAEaOaBpkaQHQm6jKLPqWoBZhmkPUm8w\",\n        //     \"Content-Type\": \"text/plain\",\n        //     \"Access-Control-Allow-Origin\": \"*\"\n        // };\n        const headers_json = {\n            \"Authorization\": \"Bearer oh.test.PgGrq56Et45iSxmZ3546lpi7BQbSiJC3HX8kBVjtVCBJ0AaYc26FAEaOaBpkaQHQm6jKLPqWoBZhmkPUm8w\",\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\"\n        }\n        HTTP.get(`sitemaps`).then(response=> {\n            console.log(response.data)\n            this.data = response.data[0].label\n            console.log(this.data)\n            }).catch(err => {\n            console.log(err.response);\n        });\n        HTTP.get(`items`).then(response=> {\n            console.log(response.data)\n            this.data = response.data[0].label\n            console.log(this.data)\n            }).catch(err => {\n            console.log(err.response);\n        });\n        console.log(this.devices)\n        var item = {\n            \"type\": \"Switch\",\n            \"name\": \"test1\",\n            \"label\": \"test1\",\n            \"category\": \"\",\n            \"tags\": [\n            \"House\"\n            ],\n            \"groupNames\": [\n            \"\"\n            ],\n            \"groupType\": \"\",\n            \"function\": {\n                \"name\": \"string\",\n                \"params\": [\n                    \"string\"\n                ]\n            }\n        }\n        // HTTP.post(`items/NewItem`, 'ON', {headers:headers}).then()\n        HTTP.get(`items/NewItem/state`).then(response=> {\n            console.log(response.data)\n        })\n        HTTP.put(`items/test1`,item,{headers:headers_json}).then()\n    },\n    mounted() {\n        EventBus.$on(\"img-upload\",url => {\n            this.background_url = url\n        })\n        EventBus.$on(\"device-data\", (data_url,data_name)=>{\n            this.new_device_url = data_url\n            this.new_device_name = data_name\n        })\n    }\n}\n</script>\n\n<style scoped>\n.ui-container {\n    float: right;\n    background-color: #F1F3F8;\n    width: 1845px;\n    height: 897px;\n    \n}\n.ui-container .home-map {\n    position: absolute;\n    display: block;\n    margin: auto;\n}\n\n</style>"],"sourceRoot":"src/components"}]}