{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/components/DeviceOnMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/DeviceOnMap.vue","mtime":1622128423528},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2R4dC9jb2RlL2lvdC1zaW11bGF0b3Ivbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBIVFRQIH0gZnJvbSAnLi9odHRwLWNvbW1vbic7CmltcG9ydCBNaW5pTWVudSBmcm9tICcuL01pbmlNZW51LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRHJhZ2dhYmxlRGl2IiwKICBwcm9wczogewogICAgcGljX3VybDogU3RyaW5nLAogICAgc3RhdHVzOiBCb29sZWFuLAogICAgcG9zaXRpb25YOiBTdHJpbmcsCiAgICBwb3NpdGlvblk6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGlzVG9nZ2xlU2hvdzogZmFsc2UsCiAgICAgIGlzVG9nZ2xlZDogZmFsc2UsCiAgICAgIG5hbWU6ICIiLAogICAgICBsYWJlbDogIiIsCiAgICAgIHR5cGU6ICIiLAogICAgICB0YWc6ICIiLAogICAgICBwb3NpdGlvbnM6IHsKICAgICAgICBjbGllbnRYOiB1bmRlZmluZWQsCiAgICAgICAgY2xpZW50WTogdW5kZWZpbmVkLAogICAgICAgIG1vdmVtZW50WDogMCwKICAgICAgICBtb3ZlbWVudFk6IDAKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1pbmlNZW51OiBNaW5pTWVudQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uWCwKICAgICAgICB0b3A6IHRoaXMucG9zaXRpb25ZCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmFnTW91c2VEb3duOiBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6CgogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRYID0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gdGhpcy5lbGVtZW50RHJhZzsKICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gdGhpcy5jbG9zZURyYWdFbGVtZW50OwogICAgfSwKICAgIGVsZW1lbnREcmFnOiBmdW5jdGlvbiBlbGVtZW50RHJhZyhldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSB0aGlzLnBvc2l0aW9ucy5jbGllbnRYIC0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gdGhpcy5wb3NpdGlvbnMuY2xpZW50WSAtIGV2ZW50LmNsaWVudFk7CiAgICAgIHRoaXMucG9zaXRpb25zLmNsaWVudFggPSBldmVudC5jbGllbnRYOwogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gZXZlbnQuY2xpZW50WTsgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOgoKICAgICAgdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIuc3R5bGUudG9wID0gdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIub2Zmc2V0VG9wIC0gdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZICsgInB4IjsKICAgICAgdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIuc3R5bGUubGVmdCA9IHRoaXMuJHJlZnMuZHJhZ2dhYmxlQ29udGFpbmVyLm9mZnNldExlZnQgLSB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggKyAicHgiOwogICAgfSwKICAgIGNsb3NlRHJhZ0VsZW1lbnQ6IGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQoKSB7CiAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVFdmVudERlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRXZlbnREZWxldGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoInJlbW92ZSIpOwogICAgfSwKICAgIGhhbmRsZUV2ZW50U3VibWl0OiBmdW5jdGlvbiBoYW5kbGVFdmVudFN1Ym1pdChuYW1lLCBsYWJlbCwgdHlwZSwgdGFnKSB7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy50YWcgPSB0YWc7CiAgICAgIGlmICh0eXBlID09ICdTd2l0Y2gnKSB0aGlzLmlzVG9nZ2xlU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gIml0ZW1zLyIgKyBfdGhpcy5uYW1lICsgIi9zdGF0ZSI7CgogICAgICAgICAgICAgICAgd2hpbGUgKHVybCAhPSAnJykgewogICAgICAgICAgICAgICAgICBIVFRQLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DeviceOnMap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div ref=\"draggableContainer\" id=\"draggable-device\" :style=\"style\">\n\t\t<div\n\t\t\tid=\"draggable-device-header\"\n\t\t\t@mousedown=\"dragMouseDown\"\n\t\t\tv-on:dblclick=\"isShow = !isShow\"\n\t\t>\n\t\t\t<img :src=\"require(`../assets/iot-devices/${pic_url}`)\" />\n\t\t\t<span class=\"name\">{{ name }}</span>\n\t\t</div>\n\t\t<MiniMenu\n\t\t\tv-if=\"isShow\"\n\t\t\tv-bind:name.sync=\"name\"\n\t\t\tv-bind:label.sync=\"label\"\n\t\t\tv-bind:type.sync=\"type\"\n\t\t\tv-bind:tag.sync=\"tag\"\n\t\t\t@deviceInfor=\"handleEventSubmit\"\n\t\t\t@deleteDevice=\"handleEventDelete\"\n\t\t></MiniMenu>\n\t\t<button class=\"button-toggle\" :class= \"{toggled: isToggled}\" v-if=\"isToggleShow\" @click= \"isToggled = !isToggled\">{{isToggled ? 'ON' : 'OFF'}}</button>\n\t</div>\n</template>\n<script>\nimport {HTTP} from './http-common'\nimport MiniMenu from './MiniMenu.vue'\nexport default {\n\tname: \"DraggableDiv\",\n\tprops: {\n\t\tpic_url: String,\n\t\tstatus: Boolean,\n\t\tpositionX: String,\n\t\tpositionY: String,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShow: false,\n\t\t\tisToggleShow: false,\n\t\t\tisToggled: false,\n\t\t\tname: \"\",\n\t\t\tlabel: \"\",\n\t\t\ttype: \"\",\n\t\t\ttag: \"\",\n\t\t\tpositions: {\n\t\t\t\tclientX: undefined,\n\t\t\t\tclientY: undefined,\n\t\t\t\tmovementX: 0,\n\t\t\t\tmovementY: 0,\n\t\t\t},\n\t\t};\n\t},\n\tcomponents: {\n\t\tMiniMenu,\n\t},\n\tcomputed: {\n\t\tstyle() {\n\t\t\treturn {\n\t\t\t\tleft: this.positionX,\n\t\t\t\ttop: this.positionY,\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tdragMouseDown: function(event) {\n\t\t\tevent.preventDefault();\n\t\t\t// get the mouse cursor position at startup:\n\t\t\tthis.positions.clientX = event.clientX;\n\t\t\tthis.positions.clientY = event.clientY;\n\t\t\tdocument.onmousemove = this.elementDrag;\n\t\t\tdocument.onmouseup = this.closeDragElement;\n\t\t},\n\t\telementDrag: function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.positions.movementX = this.positions.clientX - event.clientX;\n\t\t\tthis.positions.movementY = this.positions.clientY - event.clientY;\n\t\t\tthis.positions.clientX = event.clientX;\n\t\t\tthis.positions.clientY = event.clientY;\n\t\t\t// set the element's new position:\n\t\t\tthis.$refs.draggableContainer.style.top =\n\t\t\t\tthis.$refs.draggableContainer.offsetTop -\n\t\t\t\tthis.positions.movementY +\n\t\t\t\t\"px\";\n\t\t\tthis.$refs.draggableContainer.style.left =\n\t\t\t\tthis.$refs.draggableContainer.offsetLeft -\n\t\t\t\tthis.positions.movementX +\n\t\t\t\t\"px\";\n\t\t},\n\t\tcloseDragElement() {\n\t\t\tdocument.onmouseup = null;\n\t\t\tdocument.onmousemove = null;\n\t\t},\n\t\thandleEventDelete: function() {\n\t\t\tthis.$emit(\"remove\");\n\t\t},\n\t\thandleEventSubmit: function(name, label, type, tag) {\n\t\t\tthis.name = name\n\t\t\tthis.label = label\n\t\t\tthis.type = type\n\t\t\tthis.tag = tag\n\t\t\tif(type == 'Switch') this.isToggleShow = true\n\t\t\tthis.fetchData()\n\t\t},\n\t\tasync fetchData() {\n\t\t\tconst url = `items/` + this.name + `/state`\n\t\t\twhile (url != ''){\n\t\t\t\tHTTP.get(url,{headers:{'Content-Type': 'text/plain'}}).then(response=>{\n\t\t\t\t\tconsole.log(response.data)\n\t\t\t\t})\n\t\t\t}\n\n\t\t}\n\t},\n};\n</script>\n\n<style>\n#draggable-device {\n\tposition: absolute;\n\tz-index: 9;\n\twidth: 100px;\n\theight: 100px;\n}\n#draggable-device-header {\n\tz-index: 10;\n}\n#draggable-device #draggable-device-header img {\n\tposition: relative;\n\tdisplay: block;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n\twidth: 50px;\n\theight: 50px;\n}\n#draggable-device #draggable-device-header .name {\n\tmargin-top: 2px;\n\tdisplay: block;\n\ttext-align: center;\n\tcolor: black;\n}\n.button-toggle {\n\tposition: absolute;\n\tborder: none;\n\tcolor: white;\n\theight: 25px;\n\twidth: 50px;\n\tborder-radius: 5px;\n\tmargin-top: -75px;\n\tmargin-left: 50px;\n\tbackground-color: #C32110;\n}\n.button-toggle.toggled {\n\tbackground-color: #3A992B;\n}\n\n\n</style>\n"],"sourceRoot":"src/components"}]}