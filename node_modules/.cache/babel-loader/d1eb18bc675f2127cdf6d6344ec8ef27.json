{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/components/ConnectTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/ConnectTab.vue","mtime":1623977696850},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2R4dC9jb2RlL2lvdC1zaW11bGF0b3Ivbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgY2F1dGlvbjogZmFsc2UsCiAgICAgIGNoZWNrOiBmYWxzZSwKICAgICAgdXJsOiAnJywKICAgICAgdG9rZW46ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZERhdGE6IGZ1bmN0aW9uIHNlbmREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIEhUVFAgPSBheGlvcy5jcmVhdGUoewogICAgICAgIGJhc2VVUkw6IHRoaXMudXJsICsgJy9yZXN0JywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRoaXMudG9rZW4sCiAgICAgICAgICBDb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luOiAiKiIKICAgICAgICB9CiAgICAgIH0pOwogICAgICBIVFRQLmdldCgnL3NpdGVtYXBzJykudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgICAgdmFyIGRhdGEsIGVycm9yOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZXJyb3IgPSBkYXRhICYmIGRhdGEubWVzc2FnZSB8fCByZXNwb25zZS5zdGF0dXNUZXh0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChlcnJvcikpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgaWYgKGVycm9yLnNlYXJjaCgiRXJyb3IiKSA9PSAtMSkgX3RoaXMuY2hlY2sgPSB0cnVlOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2codGhpcy51cmwsIHRoaXMudG9rZW4pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNoZWNrKTsKCiAgICAgIGlmICh0aGlzLmNoZWNrID09IHRydWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNoYW5nZURhdGFBcGlVcmwiLCB0aGlzLnVybCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjaGFuZ2VEYXRhQXBpVG9rZW4iLCB0aGlzLnRva2VuKTsKICAgICAgICB0aGlzLiRlbWl0KCdlbmFibGUnKTsKICAgICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXJsID0gJyc7CiAgICAgICAgdGhpcy50b2tlbiA9ICcnOwogICAgICAgIHRoaXMuY2F1dGlvbiA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["ConnectTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,KAHA;AAIA,MAAA,GAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,KAAA,GAAA,GAAA,OADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,YAAA,EAAA,YAAA,KAAA,KADA;AAEA,UAAA,WAAA,EAAA,kBAFA;AAGA,UAAA,wBAAA,EAAA;AAHA;AAFA,OAAA,CAAA;AAQA,MAAA,IAAA,CAAA,GAAA,CAAA,WAAA,EAAA,IAAA;AAAA,2EAAA,iBAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACA,QADA;;AAAA;AACA,kBAAA,IADA;;AAAA,sBAEA,QAAA,CAAA,EAFA;AAAA;AAAA;AAAA;;AAGA,kBAAA,KAHA,GAGA,IAAA,IAAA,IAAA,CAAA,OAAA,IAAA,QAAA,CAAA,UAHA;AAAA,mDAIA,OAAA,CAAA,MAAA,CAAA,KAAA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA,WAQA,KARA,CAQA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,OAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,OAXA;AAYA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,GAAA,EAAA,KAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;;AACA,UAAA,KAAA,KAAA,IAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,KAAA,GAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,oBAAA,EAAA,KAAA,KAAA;AACA,aAAA,KAAA,CAAA,QAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA,OALA,MAMA;AACA,aAAA,GAAA,GAAA,EAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AACA;AAnCA;AAVA,CAAA","sourcesContent":["<template>\n    <div class=\"connect-tab-container\" v-if=\"isShow\">\n        <div class=\"header\">\n            Connect\n        </div>\n        <div >\n            <div class=\"info\">\n                <label >Your URL *</label>\n            </div>\n            <div class=\"info\">\n                <input type=\"text\" v-model=\"url\" placeholder=\"ex: http://localhost:8080\">\n            </div>\n            <div class=\"info\">\n                <label>Your API Token *</label>\n            </div>\n            <div class=\"info\">\n                <input type=\"text\" v-model=\"token\" placeholder=\"oh.{name_token}.{token}\">\n            </div>\n        </div>\n        <div class=\"info\" v-show=\"caution\">\n            <label style= \"color:red\">Check your data then try again!</label>\n        </div>\n        <div class=\"info\">\n            <button @click= \"sendData\">Submit</button>\n        </div>\n        <a href=\"https://www.openhab.org/docs/installation/\" target=\"_blank\">How to install openHAB</a>\n        <a href=\"https://www.openhab.org/docs/configuration/apitokens.html\" target=\"_blank\">How to make API Token</a>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    data() {\n        return {\n            isShow:true,\n            caution:false,\n            check:false,\n            url: '',\n            token:''\n        }\n    },\n    methods:{\n        sendData: function() {\n            const HTTP = axios.create({\n                baseURL: this.url+'/rest',\n                headers: {\n                    uthorization: \"Bearer \"+this.token,\n                    ContentType: \"application/json\",\n                    AccessControlAllowOrigin:\"*\"\n                }\n            })\n            HTTP.get('/sitemaps').then(async response=>{\n                const data = await response;\n                if(!response.ok){\n                    const error = (data && data.message) || response.statusText;\n                    return Promise.reject(error);\n                    \n                }\n            })\n            .catch(error => {\n                console.log(error)\n                if(error.search(\"Error\") == -1) this.check = true\n            })\n            console.log(this.url,this.token)\n            console.log(this.check)\n            if(this.check == true) {\n                this.$store.commit(\"changeDataApiUrl\",this.url)\n                this.$store.commit(\"changeDataApiToken\",this.token)\n                this.$emit('enable')\n                this.isShow = false\n            }\n            else {\n                this.url =''\n                this.token =''\n                this.caution=true\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.connect-tab-container {\n    position: relative;\n    display: block;\n    width: 25%;\n    height: 700px;\n    margin: auto;\n    margin-top: 50px;\n    border: 2px solid #108ee9;\n    background-color: #F5F8FD;\n    border-radius: 5px;\n}\n.connect-tab-container .header {\n    margin-top: 0;\n    position: relative;\n    background-color: #108ee9;\n    display: block;\n    height: 75px;\n    color: white;\n    text-align: center;\n    line-height: 75px;\n    font-size:30px;\n    margin-bottom: 50px;\n}\n\n.connect-tab-container .info {\n    position: relative;\n    display: block;\n    margin-top: 10px;\n    margin-bottom: 10px;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n}\ninput {\n    height: 36px;\n    width: 80%;\n    margin-right: auto;\n    margin-left: auto;\n    margin-bottom: 30px;\n    border: 1px solid #108ee9;\n}\n.connect-tab-container button {\n    margin-top: 10px;\n    margin-right: auto;\n    margin-left: auto;\n    width: 50%;\n    height: 50px;\n    border: none;\n    border-radius: 5px;\n    background-color: #108ee9;\n    color: white;\n}\n.connect-tab-container a {\n    margin-top: 30px;\n    display: block;\n    text-align: center;\n}\n</style>"],"sourceRoot":"src/components"}]}