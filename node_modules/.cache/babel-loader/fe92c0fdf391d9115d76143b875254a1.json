{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js!/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/components/DeviceOnMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/DeviceOnMap.vue","mtime":1623956767605},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9odHRwLWNvbW1vbic7CmltcG9ydCBNaW5pTWVudSBmcm9tICcuL01pbmlNZW51LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRHJhZ2dhYmxlRGl2IiwKICBwcm9wczogewogICAgcGljX3VybDogU3RyaW5nLAogICAgc3RhdHVzOiBCb29sZWFuLAogICAgcG9zaXRpb25YOiBTdHJpbmcsCiAgICBwb3NpdGlvblk6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvd01NOiBmYWxzZSwKICAgICAgZGlzYWJsZWRFZGl0OiBmYWxzZSwKICAgICAgdXBkYXRlOiBmYWxzZSwKICAgICAgaXNUb2dnbGVTaG93OiBmYWxzZSwKICAgICAgaXNOdW1TdGF0ZVNob3c6IGZhbHNlLAogICAgICBpc1RvZ2dsZWQ6IGZhbHNlLAogICAgICBzdGF0ZTogMCwKICAgICAgbmV3U3RhdGU6IDAsCiAgICAgIG5hbWU6ICIiLAogICAgICBsYWJlbDogIiIsCiAgICAgIHR5cGU6ICIiLAogICAgICB0YWc6ICIiLAogICAgICBwb3NpdGlvbnM6IHsKICAgICAgICBjbGllbnRYOiB1bmRlZmluZWQsCiAgICAgICAgY2xpZW50WTogdW5kZWZpbmVkLAogICAgICAgIG1vdmVtZW50WDogMCwKICAgICAgICBtb3ZlbWVudFk6IDAKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1pbmlNZW51OiBNaW5pTWVudQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uWCwKICAgICAgICB0b3A6IHRoaXMucG9zaXRpb25ZCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmFnTW91c2VEb3duOiBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGdldCB0aGUgbW91c2UgY3Vyc29yIHBvc2l0aW9uIGF0IHN0YXJ0dXA6CgogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRYID0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gdGhpcy5lbGVtZW50RHJhZzsKICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gdGhpcy5jbG9zZURyYWdFbGVtZW50OwogICAgfSwKICAgIGVsZW1lbnREcmFnOiBmdW5jdGlvbiBlbGVtZW50RHJhZyhldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSB0aGlzLnBvc2l0aW9ucy5jbGllbnRYIC0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gdGhpcy5wb3NpdGlvbnMuY2xpZW50WSAtIGV2ZW50LmNsaWVudFk7CiAgICAgIHRoaXMucG9zaXRpb25zLmNsaWVudFggPSBldmVudC5jbGllbnRYOwogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gZXZlbnQuY2xpZW50WTsgLy8gc2V0IHRoZSBlbGVtZW50J3MgbmV3IHBvc2l0aW9uOgoKICAgICAgdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIuc3R5bGUudG9wID0gdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIub2Zmc2V0VG9wIC0gdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZICsgInB4IjsKICAgICAgdGhpcy4kcmVmcy5kcmFnZ2FibGVDb250YWluZXIuc3R5bGUubGVmdCA9IHRoaXMuJHJlZnMuZHJhZ2dhYmxlQ29udGFpbmVyLm9mZnNldExlZnQgLSB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggKyAicHgiOwogICAgfSwKICAgIGNsb3NlRHJhZ0VsZW1lbnQ6IGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQoKSB7CiAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVFdmVudERlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRXZlbnREZWxldGUoKSB7CiAgICAgIHRoaXMuJGVtaXQoInJlbW92ZSIpOwogICAgfSwKICAgIGhhbmRsZUV2ZW50U3VibWl0OiBmdW5jdGlvbiBoYW5kbGVFdmVudFN1Ym1pdChuYW1lLCBsYWJlbCwgdHlwZSwgdGFnKSB7CiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKICAgICAgdGhpcy50YWcgPSB0YWc7CgogICAgICBpZiAodHlwZSA9PSAnU3dpdGNoJykgewogICAgICAgIHRoaXMuaXNOdW1TdGF0ZVNob3cgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzVG9nZ2xlU2hvdyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnTnVtYmVyJykgewogICAgICAgIHRoaXMuaXNOdW1TdGF0ZVNob3cgPSB0cnVlOwogICAgICAgIHRoaXMuaXNUb2dnbGVTaG93ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNTaG93TU0gPSBmYWxzZTsKICAgICAgdGhpcy5kaXNhYmxlZEVkaXQgPSB0cnVlOwogICAgICB0aGlzLnVwZGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuZmV0Y2hTdGF0ZSgpOwogICAgfSwKICAgIGNoYW5nZVN0YXRlOiBmdW5jdGlvbiBjaGFuZ2VTdGF0ZSgpIHsKICAgICAgdGhpcy5pc1RvZ2dsZWQgPSAhdGhpcy5pc1RvZ2dsZWQ7CiAgICAgIHZhciB1cmwgPSAiaXRlbXMvIiArIHRoaXMubmFtZTsKICAgICAgdmFyIGRhdGEgPSAnJzsKICAgICAgaWYgKHRoaXMuaXNUb2dnbGVkKSBkYXRhID0gJ09OJztlbHNlIGRhdGEgPSAnT0ZGJzsKICAgICAgdmFyIEhUVFAgPSBjb25maWc7CiAgICAgIEhUVFAucG9zdCh1cmwsIGRhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZU51bVN0YXRlOiBmdW5jdGlvbiBjaGFuZ2VOdW1TdGF0ZSgpIHsKICAgICAgaWYgKGlzTmFOKHRoaXMubmV3U3RhdGUpKSB7CiAgICAgICAgYWxlcnQoIk51bWVyIE9ubHkgISEhIik7CiAgICAgICAgdGhpcy5uZXdTdGF0ZSA9IHRoaXMuc3RhdGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMubmV3U3RhdGU7CiAgICAgICAgdmFyIHVybCA9ICJpdGVtcy8iICsgdGhpcy5uYW1lOwogICAgICAgIHZhciBIVFRQID0gY29uZmlnOwogICAgICAgIEhUVFAucG9zdCh1cmwsIHRoaXMuc3RhdGUsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hTdGF0ZTogZnVuY3Rpb24gZmV0Y2hTdGF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJmZXRjaER0YSBzdGFydCIpOwogICAgICB2YXIgZXMgPSBuZXcgRXZlbnRTb3VyY2UoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9yZXN0L2V2ZW50cy9zdGF0ZXMiLCB7CiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscyc6IHRydWUKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgaXRlbXMgPSBbdGhpcy5uYW1lXTsKICAgICAgZXMuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHknLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgSFRUUCA9IGNvbmZpZzsKICAgICAgICBIVFRQLnBvc3QoIi9ldmVudHMvc3RhdGVzLyIuY29uY2F0KGV2ZW50LmRhdGEpLCBpdGVtcyk7CiAgICAgIH0pOwogICAgICBlcy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChldmVudC5yZWFkeVN0YXRlID09IEV2ZW50U291cmNlLkNMT1NFRCkgewogICAgICAgICAgY29uc29sZS5sb2coIkV2ZW50IHdhcyBjbG9zZWQiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKEV2ZW50U291cmNlKTsKICAgICAgICB9CiAgICAgIH0sIGZhbHNlKTsKICAgICAgZXMuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChfdGhpcy50eXBlID09ICJTd2l0Y2giKSB7CiAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5zZWFyY2goIk9OIikgIT0gLTEpIF90aGlzLmlzVG9nZ2xlZCA9IHRydWU7ZWxzZSBpZiAoZXZlbnQuZGF0YS5zZWFyY2goIk9GRiIgIT0gLTEpKSBfdGhpcy5pc1RvZ2dsZWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnR5cGUgPT0gIk51bWJlciIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGEpOwogICAgICAgICAgdmFyIHN0YXJ0ID0gZXZlbnQuZGF0YS5sYXN0SW5kZXhPZignOicpICsgMjsKICAgICAgICAgIHZhciBlbmQgPSBldmVudC5kYXRhLmxhc3RJbmRleE9mKCciJyk7CiAgICAgICAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGEuc2xpY2Uoc3RhcnQsIGVuZCk7CgogICAgICAgICAgaWYgKGRhdGEgIT0gIk5VTEwiKSB7CiAgICAgICAgICAgIF90aGlzLm5ld1N0YXRlID0gTnVtYmVyKGRhdGEpOwogICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IF90aGlzLm5ld1N0YXRlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DeviceOnMap.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div ref=\"draggableContainer\" id=\"draggable-device\" :style=\"style\">\n\t\t<div\n\t\t\tid=\"draggable-device-header\"\n\t\t\t@mousedown=\"dragMouseDown\"\n\t\t\tv-on:dblclick= \"isShowMM = !isShowMM\"\n\t\t>\n\t\t\t<img class=\"device-img\" :src=\"require(`../assets/iot-devices/${pic_url}`)\" />\n\t\t\t<span class=\"name\">{{ name }}</span>\n\t\t\t<span class=\"tooltiptext\">Double click to open or close menu</span>\n\t\t</div>\n\t\t<MiniMenu\n\t\t\tv-if=\"isShowMM\"\n\t\t\tv-bind:disabledEdit.sync=\"disabledEdit\"\n\t\t\tv-bind:update.sync=\"update\"\n\t\t\tv-bind:typeDevice.sync=\"pic_url\"\n\t\t\tv-bind:name.sync=\"name\"\n\t\t\tv-bind:label.sync=\"label\"\n\t\t\tv-bind:type.sync=\"type\"\n\t\t\tv-bind:tag.sync=\"tag\"\n\t\t\t@deviceInfor=\"handleEventSubmit\"\n\t\t\t@deleteDevice=\"handleEventDelete\"\n\t\t></MiniMenu>\n\t\t<button class=\"button-toggle\" :class= \"{toggled: isToggled}\" v-if=\"isToggleShow\" @click= \"changeState\">{{isToggled ? 'ON' : 'OFF'}}</button>\n\t\t<input class=\"number-state\" type=\"text\" v-if=\"isNumStateShow\" v-model= newState @change= \"changeNumState\">\n\t\t\n\t</div>\n</template>\n<script>\nimport {config} from './http-common'\nimport MiniMenu from './MiniMenu.vue'\n\nexport default {\n\tname: \"DraggableDiv\",\n\tprops: {\n\t\tpic_url: String,\n\t\tstatus: Boolean,\n\t\tpositionX: String,\n\t\tpositionY: String,\n\t\t\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShowMM: false,\n\t\t\tdisabledEdit: false,\n\t\t\tupdate: false,\n\t\t\tisToggleShow: false,\n\t\t\tisNumStateShow: false,\n\t\t\tisToggled: false,\n\t\t\tstate: 0,\n\t\t\tnewState:0,\n\t\t\tname: \"\",\n\t\t\tlabel: \"\",\n\t\t\ttype: \"\",\n\t\t\ttag: \"\",\n\t\t\tpositions: {\n\t\t\t\tclientX: undefined,\n\t\t\t\tclientY: undefined,\n\t\t\t\tmovementX: 0,\n\t\t\t\tmovementY: 0,\n\t\t\t},\n\t\t};\n\t},\n\tcomponents: {\n\t\tMiniMenu,\n\t},\n\tcomputed: {\n\t\tstyle() {\n\t\t\treturn {\n\t\t\t\tleft: this.positionX,\n\t\t\t\ttop: this.positionY,\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tdragMouseDown: function(event) {\n\t\t\tevent.preventDefault();\n\t\t\t// get the mouse cursor position at startup:\n\t\t\tthis.positions.clientX = event.clientX;\n\t\t\tthis.positions.clientY = event.clientY;\n\t\t\tdocument.onmousemove = this.elementDrag;\n\t\t\tdocument.onmouseup = this.closeDragElement;\n\t\t},\n\t\telementDrag: function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.positions.movementX = this.positions.clientX - event.clientX;\n\t\t\tthis.positions.movementY = this.positions.clientY - event.clientY;\n\t\t\tthis.positions.clientX = event.clientX;\n\t\t\tthis.positions.clientY = event.clientY;\n\t\t\t// set the element's new position:\n\t\t\tthis.$refs.draggableContainer.style.top =\n\t\t\t\tthis.$refs.draggableContainer.offsetTop -\n\t\t\t\tthis.positions.movementY +\n\t\t\t\t\"px\";\n\t\t\tthis.$refs.draggableContainer.style.left =\n\t\t\t\tthis.$refs.draggableContainer.offsetLeft -\n\t\t\t\tthis.positions.movementX +\n\t\t\t\t\"px\";\n\t\t},\n\t\tcloseDragElement() {\n\t\t\tdocument.onmouseup = null;\n\t\t\tdocument.onmousemove = null;\n\t\t},\n\t\thandleEventDelete: function() {\n\t\t\tthis.$emit(\"remove\");\n\t\t},\n\t\thandleEventSubmit: function(name, label, type, tag) {\n\t\t\tthis.name = name\n\t\t\tthis.label = label\n\t\t\tthis.type = type\n\t\t\tthis.tag = tag\n\t\t\tif(type == 'Switch') {\n\t\t\t\tthis.isNumStateShow = false\n\t\t\t\tthis.isToggleShow = true\n\t\t\t}\n\t\t\telse if(type =='Number'){\n\t\t\t\tthis.isNumStateShow = true\n\t\t\t\tthis.isToggleShow = false\n\t\t\t}\n\t\t\tthis.isShowMM = false\n\t\t\tthis.disabledEdit = true\n\t\t\tthis.update = true\n\t\t\tthis.fetchState()\n\t\t},\n\t\tchangeState: function() {\n\t\t\tthis.isToggled = !this.isToggled\n\t\t\tconst url = `items/` + this.name\n\t\t\tlet data = ''\n\t\t\tif(this.isToggled) data = 'ON'\n\t\t\telse data = 'OFF'\n\t\t\tvar HTTP = config\n\t\t\tHTTP.post(url,data,{headers:{'Content-Type': 'text/plain'}}).then(response=>{\n\t\t\t\tresponse.data\n\t\t\t})\n\t\t},\n\t\tchangeNumState: function() {\n\t\t\tif(isNaN(this.newState)){\n\t\t\t\talert(\"Numer Only !!!\")\n\t\t\t\tthis.newState = this.state\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.state = this.newState\n\t\t\t\tconst url = `items/` + this.name\n\t\t\t\tvar HTTP = config\n\t\t\t\tHTTP.post(url,this.state,{headers:{'Content-Type': 'text/plain'}}).then(response=>{\n\t\t\t\t\tresponse.data\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tfetchState: function() {\n\t\t\tconsole.log(\"fetchDta start\")\n\t\t\tvar es = new EventSource(\n\t\t\t\t\"http://localhost:8080/rest/events/states\",\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders:{\n\t\t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\t\n\t\t\tvar items = [this.name]\n\t\t\tes.addEventListener('ready',(event)=>{\n\t\t\t\tvar HTTP = config\n\t\t\t\tHTTP.post(`/events/states/${event.data}`, \n\t\t\t\t\titems\n\t\t\t\t)\n\t\t\t})\n\t\t\tes.addEventListener(\n\t\t\t\t\"error\",\n\t\t\t\t(event) => {\n\t\t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t\t\t\t\t\tconsole.log(\"Event was closed\");\n\t\t\t\t\t\tconsole.log(EventSource);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tes.addEventListener(\n\t\t\t\t\"message\",\n\t\t\t\t(event) => {\n\t\t\t\t\tif(this.type == \"Switch\"){\n\t\t\t\t\t\tif(event.data.search(\"ON\") != -1) this.isToggled = true\n\t\t\t\t\t\telse if(event.data.search(\"OFF\" != -1)) this.isToggled = false\n\t\t\t\t\t}\n\t\t\t\t\telse if(this.type == \"Number\"){\n\t\t\t\t\t\tconsole.log(event.data)\n\t\t\t\t\t\tlet start = event.data.lastIndexOf(':') + 2\n\t\t\t\t\t\tlet end = event.data.lastIndexOf('\"') \n\t\t\t\t\t\tlet data = event.data.slice(start,end)\n\t\t\t\t\t\tif(data != \"NULL\"){\n\t\t\t\t\t\t\tthis.newState = Number(data)\n\t\t\t\t\t\t\tthis.state = this.newState\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t}\n\t},\n};\n</script>\n\n<style>\n#draggable-device {\n\tposition: absolute;\n\tz-index: 9;\n\twidth: 100px;\n\theight: 100px;\n\t\n}\n#draggable-device-header {\n\tmargin-left: auto;\n\tmargin-right: auto;\n\twidth: 75px;\n\theight: 75px;\n\tbackground-color: rgb(96,194,119,0.75);\n\tborder-radius: 50%;\n\tz-index: 10;\n}\n#draggable-device #draggable-device-header img {\n\tposition: relative;\n\tdisplay: block;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n\twidth: 50px;\n\theight: 50px;\n\tpadding-top: 12px;\n}\n#draggable-device #draggable-device-header .name {\n\tmargin-top: 2px;\n\tdisplay: block;\n\ttext-align: center;\n\tcolor: black;\n}\n.button-toggle {\n\tposition: absolute;\n\tborder: none;\n\tcolor: white;\n\theight: 25px;\n\twidth: 50px;\n\tborder-radius: 5px;\n\tmargin-top: -75px;\n\tmargin-left: 50px;\n\tbackground-color: #C32110;\n}\n.button-toggle.toggled {\n\tbackground-color: #3A992B;\n}\n\n.number-state {\n\tposition: absolute;\n\tborder: none;\n\tcolor: white;\n\theight: 25px;\n\twidth: 25px;\n\ttext-align: center;\n\tborder-radius: 5px;\n\tmargin-top: -75px;\n\tmargin-left: 0px;\n\tbackground-color: #396EFE;\n}\n#draggable-device #draggable-device-header .tooltiptext {\n\tposition:absolute;\n    visibility: hidden;\n    width: fit-content;\n    height: fit-content;\n    background-color: #40B882;\n    color: #fff;\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px 0;\n\tmargin-top: -140px;\n\tmargin-left: -10px;\n}\n#draggable-device #draggable-device-header:hover .tooltiptext {\n    visibility: visible;\n}\n</style>\n"],"sourceRoot":"src/components"}]}