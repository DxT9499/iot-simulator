{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/App.vue","mtime":1623927649541},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdlSGVhZGVyIGZyb20gIi4vY29tcG9uZW50cy9QYWdlSGVhZGVyLnZ1ZSI7CmltcG9ydCBUYWJNZW51IGZyb20gIi4vY29tcG9uZW50cy9UYWJNZW51LnZ1ZSI7CmltcG9ydCBVaUNvbnRhaW5lciBmcm9tICIuL2NvbXBvbmVudHMvVWlDb250YWluZXIudnVlIjsKaW1wb3J0IENvbm5lY3RUYWIgZnJvbSAiLi9jb21wb25lbnRzL0Nvbm5lY3RUYWIudnVlIgppbXBvcnQge0hUVFB9IGZyb20gIi4vY29tcG9uZW50cy9odHRwLWNvbW1vbiIKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJBcHAiLAoJY29tcG9uZW50czogewoJCVBhZ2VIZWFkZXIsCgkJVGFiTWVudSwKCQlVaUNvbnRhaW5lciwKCQlDb25uZWN0VGFiCgl9LAoKCWNyZWF0ZWQoKSB7CgkJLy8gY29uc29sZS5sb2cgKCJjcmVhdGVkIikKICAgICAgICAvLyB0aGlzLnNldHVwU3RyZWFtKCkKICAgIH0sCgltZXRob2RzOiB7CgkJc2V0dXBTdHJlYW0oKSB7CiAgICAgICAgICAgIAoJCQl2YXIgZXMgPSBuZXcgRXZlbnRTb3VyY2UoCgkJCQkiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3Jlc3QvZXZlbnRzL3N0YXRlcyIsCgkJCQl7CgkJCQkJd2l0aENyZWRlbnRpYWxzOiB0cnVlLAoJCQkJCWhlYWRlcnM6ewoJCQkJCQknQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnOiB0cnVlLAoJCQkJCQkKCQkJCQl9CgkJCQkJCgkJCQl9CgkJCSk7CgkJCWNvbnNvbGUubG9nKGVzKTsKCQkJdmFyIG5hbWUgPSAidGVzdEVTIgoJCQl2YXIgaXRlbXMgPSBbbmFtZV0KCQkJZXMuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHknLChldmVudCk9PnsKCQkJCUhUVFAucG9zdChgL2V2ZW50cy9zdGF0ZXMvJHtldmVudC5kYXRhfWAsIAoJCQkJCWl0ZW1zCgkJCQkJCgkJCQkpCgkJCX0pCgkJCWVzLmFkZEV2ZW50TGlzdGVuZXIoCgkJCQkiZXJyb3IiLAoJCQkJKGV2ZW50KSA9PiB7CgkJCQkJaWYgKGV2ZW50LnJlYWR5U3RhdGUgPT0gRXZlbnRTb3VyY2UuQ0xPU0VEKSB7CgkJCQkJCWNvbnNvbGUubG9nKCJFdmVudCB3YXMgY2xvc2VkIik7CgkJCQkJCWNvbnNvbGUubG9nKEV2ZW50U291cmNlKTsKCQkJCQl9CgkJCQl9LAoJCQkJZmFsc2UKCQkJKTsKCQkJZXMub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHsKCQkJCWNvbnNvbGUubG9nKGV2ZW50LmRhdGEpCgkJCX0KCQkJZXMuYWRkRXZlbnRMaXN0ZW5lcigKCQkJCSJtZXNzYWdlIiwKCQkJCShldmVudCkgPT4gewoJCQkJCWxldCBzdGF0ZVN0YXJ0ID0gZXZlbnQuZGF0YS5sYXN0SW5kZXhPZigic3RhdGUiKSAtIDIKCQkJCQlsZXQgc3RhdGVFbmQgPSBldmVudC5kYXRhLmluZGV4T2YoIn0iKQoJCQkJCWNvbnNvbGUubG9nKHN0YXRlU3RhcnQsc3RhdGVFbmQpCgkJCQkJbGV0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEuc2xpY2Uoc3RhdGVTdGFydCAsIHN0YXRlRW5kKSk7CgkJCQkJY29uc29sZS5sb2coImhlcmUiKTsKCQkJCQljb25zb2xlLmxvZyhkYXRhLnN0YXRlKTsKCQkJCX0sCgkJCQlmYWxzZQoJCQkpOwoJCX0sCgl9LAoJLy8gRVM6IHsKCS8vIAlzZXR1cFN0cmVhbTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIAoJLy8gCQl2YXIgZXMgPSBuZXcgRXZlbnRTb3VyY2UoCgkvLyAJCQkiZXZlbnRzL3N0YXRlcyIsCgkvLyAJCQl7CgkvLyAJCQkJd2l0aENyZWRlbnRpYWxzOiB0cnVlLAoJLy8gCQkJCWhlYWRlcnM6ewoJLy8gCQkJCQknQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnOiB0cnVlLAoJLy8gCQkJCQkiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MSIKCS8vIAkJCQl9CgkJCQkJCgkvLyAJCQl9CgkvLyAJCSk7CgkvLyAJCWNvbnNvbGUubG9nKGVzKTsKCS8vIAkJZXMuYWRkRXZlbnRMaXN0ZW5lcigKCS8vIAkJCSJlcnJvciIsCgkvLyAJCQkoZXZlbnQpID0+IHsKCS8vIAkJCQlpZiAoZXZlbnQucmVhZHlTdGF0ZSA9PSBFdmVudFNvdXJjZS5DTE9TRUQpIHsKCS8vIAkJCQkJY29uc29sZS5sb2coIkV2ZW50IHdhcyBjbG9zZWQiKTsKCS8vIAkJCQkJY29uc29sZS5sb2coRXZlbnRTb3VyY2UpOwoJLy8gCQkJCX0KCS8vIAkJCX0sCgkvLyAJCQlmYWxzZQoJLy8gCQkpOwoJLy8gCQllcy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkgewoJLy8gCQkJY29uc29sZS5sb2coZXZlbnQuZGF0YSkKCS8vIAkJfQoJLy8gCQllcy5hZGRFdmVudExpc3RlbmVyKAoJLy8gCQkJIm1lc3NhZ2UiLAoJLy8gCQkJKGV2ZW50KSA9PiB7CgkvLyAJCQkJbGV0IGRhdGFzID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTsKCS8vIAkJCQljb25zb2xlLmxvZygiaGVyZSIpOwoJLy8gCQkJCWNvbnNvbGUubG9nKGRhdGFzKTsKCS8vIAkJCX0sCgkvLyAJCQlmYWxzZQoJLy8gCQkpOwoJLy8gCX0sCgkvLyB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<PageHeader />\n\t\t<TabMenu />\n\t\t<UiContainer />\n\t\t<ConnectTab />\n\t</div>\n</template>\n\n<script>\nimport PageHeader from \"./components/PageHeader.vue\";\nimport TabMenu from \"./components/TabMenu.vue\";\nimport UiContainer from \"./components/UiContainer.vue\";\nimport ConnectTab from \"./components/ConnectTab.vue\"\nimport {HTTP} from \"./components/http-common\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: {\n\t\tPageHeader,\n\t\tTabMenu,\n\t\tUiContainer,\n\t\tConnectTab\n\t},\n\n\tcreated() {\n\t\t// console.log (\"created\")\n        // this.setupStream()\n    },\n\tmethods: {\n\t\tsetupStream() {\n            \n\t\t\tvar es = new EventSource(\n\t\t\t\t\"http://localhost:8080/rest/events/states\",\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders:{\n\t\t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(es);\n\t\t\tvar name = \"testES\"\n\t\t\tvar items = [name]\n\t\t\tes.addEventListener('ready',(event)=>{\n\t\t\t\tHTTP.post(`/events/states/${event.data}`, \n\t\t\t\t\titems\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t})\n\t\t\tes.addEventListener(\n\t\t\t\t\"error\",\n\t\t\t\t(event) => {\n\t\t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t\t\t\t\t\tconsole.log(\"Event was closed\");\n\t\t\t\t\t\tconsole.log(EventSource);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tes.onmessage = function(event) {\n\t\t\t\tconsole.log(event.data)\n\t\t\t}\n\t\t\tes.addEventListener(\n\t\t\t\t\"message\",\n\t\t\t\t(event) => {\n\t\t\t\t\tlet stateStart = event.data.lastIndexOf(\"state\") - 2\n\t\t\t\t\tlet stateEnd = event.data.indexOf(\"}\")\n\t\t\t\t\tconsole.log(stateStart,stateEnd)\n\t\t\t\t\tlet data = JSON.parse(event.data.slice(stateStart , stateEnd));\n\t\t\t\t\tconsole.log(\"here\");\n\t\t\t\t\tconsole.log(data.state);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t},\n\t},\n\t// ES: {\n\t// \tsetupStream: function() {\n            \n\t// \t\tvar es = new EventSource(\n\t// \t\t\t\"events/states\",\n\t// \t\t\t{\n\t// \t\t\t\twithCredentials: true,\n\t// \t\t\t\theaders:{\n\t// \t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t// \t\t\t\t\t\"Access-Control-Allow-Origin\": \"http://localhost:8081\"\n\t// \t\t\t\t}\n\t\t\t\t\t\n\t// \t\t\t}\n\t// \t\t);\n\t// \t\tconsole.log(es);\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"error\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t// \t\t\t\t\tconsole.log(\"Event was closed\");\n\t// \t\t\t\t\tconsole.log(EventSource);\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t\tes.onmessage = function(event) {\n\t// \t\t\tconsole.log(event.data)\n\t// \t\t}\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"message\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tlet datas = JSON.parse(event.data);\n\t// \t\t\t\tconsole.log(\"here\");\n\t// \t\t\t\tconsole.log(datas);\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t},\n\t// }\n};\n</script>\n\n<style>\nbody {\n\tposition: relative;\n\tmargin: 0px;\n}\n#app {\n\tfont-family: \"Frutiger Next LT W1G\", Calibri, Arial, Helvetica, sans-serif;\n\tmin-height: 100%;\n}\n</style>\n"]}]}