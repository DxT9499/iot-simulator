{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/App.vue","mtime":1623927649541},{"path":"/home/dxt/code/iot-simulator/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpib2R5IHsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKCW1hcmdpbjogMHB4Owp9CiNhcHAgewoJZm9udC1mYW1pbHk6ICJGcnV0aWdlciBOZXh0IExUIFcxRyIsIENhbGlicmksIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CgltaW4taGVpZ2h0OiAxMDAlOwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<PageHeader />\n\t\t<TabMenu />\n\t\t<UiContainer />\n\t\t<ConnectTab />\n\t</div>\n</template>\n\n<script>\nimport PageHeader from \"./components/PageHeader.vue\";\nimport TabMenu from \"./components/TabMenu.vue\";\nimport UiContainer from \"./components/UiContainer.vue\";\nimport ConnectTab from \"./components/ConnectTab.vue\"\nimport {HTTP} from \"./components/http-common\"\n\nexport default {\n\tname: \"App\",\n\tcomponents: {\n\t\tPageHeader,\n\t\tTabMenu,\n\t\tUiContainer,\n\t\tConnectTab\n\t},\n\n\tcreated() {\n\t\t// console.log (\"created\")\n        // this.setupStream()\n    },\n\tmethods: {\n\t\tsetupStream() {\n            \n\t\t\tvar es = new EventSource(\n\t\t\t\t\"http://localhost:8080/rest/events/states\",\n\t\t\t\t{\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\theaders:{\n\t\t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(es);\n\t\t\tvar name = \"testES\"\n\t\t\tvar items = [name]\n\t\t\tes.addEventListener('ready',(event)=>{\n\t\t\t\tHTTP.post(`/events/states/${event.data}`, \n\t\t\t\t\titems\n\t\t\t\t\t\n\t\t\t\t)\n\t\t\t})\n\t\t\tes.addEventListener(\n\t\t\t\t\"error\",\n\t\t\t\t(event) => {\n\t\t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t\t\t\t\t\tconsole.log(\"Event was closed\");\n\t\t\t\t\t\tconsole.log(EventSource);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tes.onmessage = function(event) {\n\t\t\t\tconsole.log(event.data)\n\t\t\t}\n\t\t\tes.addEventListener(\n\t\t\t\t\"message\",\n\t\t\t\t(event) => {\n\t\t\t\t\tlet stateStart = event.data.lastIndexOf(\"state\") - 2\n\t\t\t\t\tlet stateEnd = event.data.indexOf(\"}\")\n\t\t\t\t\tconsole.log(stateStart,stateEnd)\n\t\t\t\t\tlet data = JSON.parse(event.data.slice(stateStart , stateEnd));\n\t\t\t\t\tconsole.log(\"here\");\n\t\t\t\t\tconsole.log(data.state);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t},\n\t},\n\t// ES: {\n\t// \tsetupStream: function() {\n            \n\t// \t\tvar es = new EventSource(\n\t// \t\t\t\"events/states\",\n\t// \t\t\t{\n\t// \t\t\t\twithCredentials: true,\n\t// \t\t\t\theaders:{\n\t// \t\t\t\t\t'Access-Control-Allow-Credentials': true,\n\t// \t\t\t\t\t\"Access-Control-Allow-Origin\": \"http://localhost:8081\"\n\t// \t\t\t\t}\n\t\t\t\t\t\n\t// \t\t\t}\n\t// \t\t);\n\t// \t\tconsole.log(es);\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"error\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tif (event.readyState == EventSource.CLOSED) {\n\t// \t\t\t\t\tconsole.log(\"Event was closed\");\n\t// \t\t\t\t\tconsole.log(EventSource);\n\t// \t\t\t\t}\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t\tes.onmessage = function(event) {\n\t// \t\t\tconsole.log(event.data)\n\t// \t\t}\n\t// \t\tes.addEventListener(\n\t// \t\t\t\"message\",\n\t// \t\t\t(event) => {\n\t// \t\t\t\tlet datas = JSON.parse(event.data);\n\t// \t\t\t\tconsole.log(\"here\");\n\t// \t\t\t\tconsole.log(datas);\n\t// \t\t\t},\n\t// \t\t\tfalse\n\t// \t\t);\n\t// \t},\n\t// }\n};\n</script>\n\n<style>\nbody {\n\tposition: relative;\n\tmargin: 0px;\n}\n#app {\n\tfont-family: \"Frutiger Next LT W1G\", Calibri, Arial, Helvetica, sans-serif;\n\tmin-height: 100%;\n}\n</style>\n"]}]}