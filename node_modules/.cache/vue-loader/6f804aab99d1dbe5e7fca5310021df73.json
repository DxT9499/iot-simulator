{"remainingRequest":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/iot-simulator/src/components/UiContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/iot-simulator/src/components/UiContainer.vue","mtime":1621589483829},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/iot-simulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/iot-simulator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7SFRUUH0gZnJvbSAnLi9odHRwLWNvbW1vbic7CmltcG9ydCBEZXZpY2VPbk1hcCBmcm9tICcuL0RldmljZU9uTWFwLnZ1ZSc7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi9ldmVudC1idXMuanMnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpc1Nob3c6IGZhbHNlLAogICAgICAgICAgICBiYWNrZ3JvdW5kX3VybDogJycsCiAgICAgICAgICAgIG5ld19kZXZpY2VfdXJsOiAnJywKICAgICAgICAgICAgbmV3X2RldmljZV9uYW1lOicnLAogICAgICAgICAgICBkZXZpY2VzOiBbXSwKICAgICAgICAgICAgbmV4dF9kZXZpY2VfaWQ6IDEsCiAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczp7CiAgICAgICAgCiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIERldmljZU9uTWFwCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNyZWF0ZURldmljZShldikgewogICAgICAgICAgICBpZih0aGlzLm5ld19kZXZpY2VfdXJsICE9ICcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRldmljZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgZGV2aWNlX2lkOiB0aGlzLm5leHRfZGV2aWNlX2lkLAogICAgICAgICAgICAgICAgICAgIGRldmljZV91cmw6IHRoaXMubmV3X2RldmljZV91cmwsCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlX25hbWU6IHRoaXMubmV3X2RldmljZV9uYW1lLAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWDogZXYuY2xpZW50WCAtIDI1ICsgInB4IiwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblk6IGV2LmNsaWVudFkgLSAyNSArICJweCIKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLm5leHRfZGV2aWNlX2lkKysKICAgICAgICAgICAgICAgIHRoaXMubmV3X2RldmljZV91cmw9JycKICAgICAgICAgICAgICAgIHRoaXMubmV3X2RldmljZV9uYW1lPScnCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIAogICAgICAgIAogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy8gY29uc3QgaGVhZGVycyA9IHsgCiAgICAgICAgLy8gICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciBvaC50ZXN0LlBnR3JxNTZFdDQ1aVN4bVozNTQ2bHBpN0JRYlNpSkMzSFg4a0JWanRWQ0JKMEFhWWMyNkZBRWFPYUJwa2FRSFFtNmpLTFBxV29CWmhta1BVbTh3IiwKICAgICAgICAvLyAgICAgIkNvbnRlbnQtVHlwZSI6ICJ0ZXh0L3BsYWluIiwKICAgICAgICAvLyAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiI6ICIqIgogICAgICAgIC8vIH07CiAgICAgICAgLy8gY29uc3QgaGVhZGVyc19qc29uID0gewogICAgICAgIC8vICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgb2gudGVzdC5QZ0dycTU2RXQ0NWlTeG1aMzU0NmxwaTdCUWJTaUpDM0hYOGtCVmp0VkNCSjBBYVljMjZGQUVhT2FCcGthUUhRbTZqS0xQcVdvQlpobWtQVW04dyIsCiAgICAgICAgLy8gICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgLy8gICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIKICAgICAgICAvLyB9CiAgICAgICAgLy8gSFRUUC5nZXQoYHNpdGVtYXBzYCkudGhlbihyZXNwb25zZT0+IHsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAvLyAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2UuZGF0YVswXS5sYWJlbAogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpCiAgICAgICAgLy8gICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7CiAgICAgICAgLy8gfSk7CiAgICAgICAgLy8gSFRUUC5nZXQoYGl0ZW1zYCkudGhlbihyZXNwb25zZT0+IHsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAvLyAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2UuZGF0YVswXS5sYWJlbAogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpCiAgICAgICAgLy8gICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZSk7CiAgICAgICAgLy8gfSk7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5kZXZpY2VzKQogICAgICAgIHZhciBpdGVtID0gewogICAgICAgICAgICAidHlwZSI6ICJTd2l0Y2giLAogICAgICAgICAgICAibmFtZSI6ICJ0ZXN0MSIsCiAgICAgICAgICAgICJsYWJlbCI6ICJ0ZXN0MSIsCiAgICAgICAgICAgICJjYXRlZ29yeSI6ICIiLAogICAgICAgICAgICAidGFncyI6IFsKICAgICAgICAgICAgIkhvdXNlIgogICAgICAgICAgICBdLAogICAgICAgICAgICAiZ3JvdXBOYW1lcyI6IFsKICAgICAgICAgICAgIiIKICAgICAgICAgICAgXSwKICAgICAgICAgICAgImdyb3VwVHlwZSI6ICIiLAogICAgICAgICAgICAiZnVuY3Rpb24iOiB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJzdHJpbmciLAogICAgICAgICAgICAgICAgInBhcmFtcyI6IFsKICAgICAgICAgICAgICAgICAgICAic3RyaW5nIgogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIC8vIEhUVFAucG9zdChgaXRlbXMvTmV3SXRlbWAsICdPTicsIHtoZWFkZXJzOmhlYWRlcnN9KS50aGVuKCkKICAgICAgICAvLyBIVFRQLmdldChgaXRlbXMvTmV3SXRlbS9zdGF0ZWApLnRoZW4ocmVzcG9uc2U9PiB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgLy8gfSkKICAgICAgICBIVFRQLnB1dChgaXRlbXMvdGVzdDFgLGl0ZW0pLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICB9KQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgRXZlbnRCdXMuJG9uKCJpbWctdXBsb2FkIix1cmwgPT4gewogICAgICAgICAgICB0aGlzLmJhY2tncm91bmRfdXJsID0gdXJsCiAgICAgICAgfSkKICAgICAgICBFdmVudEJ1cy4kb24oImRldmljZS1kYXRhIiwgKGRhdGFfdXJsLGRhdGFfbmFtZSk9PnsKICAgICAgICAgICAgdGhpcy5uZXdfZGV2aWNlX3VybCA9IGRhdGFfdXJsCiAgICAgICAgICAgIHRoaXMubmV3X2RldmljZV9uYW1lID0gZGF0YV9uYW1lCiAgICAgICAgfSkKICAgIH0KfQo="},{"version":3,"sources":["UiContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UiContainer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"dragable-container\" class=\"ui-container\" ref=\"draggableContainer\" v-on:click=\"createDevice\" v-bind:style=\"{ background: 'url(' + background_url + ') no-repeat center' }\">\n        <device-on-map\n            v-for = \"(device,index) in devices\"\n            v-bind:key=\"device.device_id\"\n            v-bind:pic_url=\"device.device_url\"\n            v-bind:name=\"device.device_name\"\n            v-on:remove=\"devices.splice(index, 1)\" \n            v-bind:positionX=\"device.positionX\"\n            v-bind:positionY=\"device.positionY\"\n        />\n    </div>\n</template>\n\n<script>\nimport {HTTP} from './http-common';\nimport DeviceOnMap from './DeviceOnMap.vue';\nimport { EventBus } from './event-bus.js';\n\nexport default {\n    data() {\n        return {\n            isShow: false,\n            background_url: '',\n            new_device_url: '',\n            new_device_name:'',\n            devices: [],\n            next_device_id: 1,\n            \n        }\n    },\n    props:{\n        \n    },\n    components: {\n        DeviceOnMap\n    },\n    methods: {\n        createDevice(ev) {\n            if(this.new_device_url != '') {\n                this.devices.push({\n                    device_id: this.next_device_id,\n                    device_url: this.new_device_url,\n                    device_name: this.new_device_name,\n                    positionX: ev.clientX - 25 + \"px\",\n                    positionY: ev.clientY - 25 + \"px\"\n                })\n                this.next_device_id++\n                this.new_device_url=''\n                this.new_device_name=''\n                \n            }\n\n        },\n        \n        \n    },\n    created() {\n        // const headers = { \n        //     \"Authorization\": \"Bearer oh.test.PgGrq56Et45iSxmZ3546lpi7BQbSiJC3HX8kBVjtVCBJ0AaYc26FAEaOaBpkaQHQm6jKLPqWoBZhmkPUm8w\",\n        //     \"Content-Type\": \"text/plain\",\n        //     \"Access-Control-Allow-Origin\": \"*\"\n        // };\n        // const headers_json = {\n        //     \"Authorization\": \"Bearer oh.test.PgGrq56Et45iSxmZ3546lpi7BQbSiJC3HX8kBVjtVCBJ0AaYc26FAEaOaBpkaQHQm6jKLPqWoBZhmkPUm8w\",\n        //     \"Content-Type\": \"application/json\",\n        //     \"Access-Control-Allow-Origin\": \"*\"\n        // }\n        // HTTP.get(`sitemaps`).then(response=> {\n        //     console.log(response.data)\n        //     this.data = response.data[0].label\n        //     console.log(this.data)\n        //     }).catch(err => {\n        //     console.log(err.response);\n        // });\n        // HTTP.get(`items`).then(response=> {\n        //     console.log(response.data)\n        //     this.data = response.data[0].label\n        //     console.log(this.data)\n        //     }).catch(err => {\n        //     console.log(err.response);\n        // });\n        // console.log(this.devices)\n        var item = {\n            \"type\": \"Switch\",\n            \"name\": \"test1\",\n            \"label\": \"test1\",\n            \"category\": \"\",\n            \"tags\": [\n            \"House\"\n            ],\n            \"groupNames\": [\n            \"\"\n            ],\n            \"groupType\": \"\",\n            \"function\": {\n                \"name\": \"string\",\n                \"params\": [\n                    \"string\"\n                ]\n            }\n        }\n        // // HTTP.post(`items/NewItem`, 'ON', {headers:headers}).then()\n        // HTTP.get(`items/NewItem/state`).then(response=> {\n        //     console.log(response.data)\n        // })\n        HTTP.put(`items/test1`,item).then(response=>{\n            console.log(response.data)\n        })\n    },\n    mounted() {\n        EventBus.$on(\"img-upload\",url => {\n            this.background_url = url\n        })\n        EventBus.$on(\"device-data\", (data_url,data_name)=>{\n            this.new_device_url = data_url\n            this.new_device_name = data_name\n        })\n    }\n}\n</script>\n\n<style scoped>\n.ui-container {\n    float: right;\n    background-color: #F1F3F8;\n    width: 1845px;\n    height: 897px;\n    \n}\n.ui-container .home-map {\n    position: absolute;\n    display: block;\n    margin: auto;\n}\n\n</style>"]}]}